{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet WatchListSectionComponent = class WatchListSectionComponent {\n  constructor(router) {\n    this.router = router;\n    this.json_display = [];\n  }\n\n  onclickArea(ticker) {\n    let trimed_ticker = ticker.replace(' ', ''); //remove space\n\n    this.router.navigateByUrl('/details/' + trimed_ticker);\n  }\n\n  deleteItem(displayTicker) {\n    if (localStorage.getItem(\"items\") != null) {\n      console.log(\"~after if\");\n      let storedItems = localStorage.getItem(\"items\");\n      storedItems = storedItems.replace('\"', '');\n      storedItems = storedItems.replace(']', '');\n      storedItems = storedItems.replace('[', '');\n      let storedItemsList = storedItems.split(\"|\");\n      console.log(\"~storedItems:\", storedItems);\n      console.log(\"~storedItemsList:\", storedItemsList);\n\n      for (let i = 0; i < storedItemsList.length; i += 1) {\n        let str_tmp = storedItemsList[i];\n        console.log(\"~str_tmp:\", str_tmp);\n\n        if (str_tmp.includes(displayTicker) == true) {\n          let delIndex = i;\n          console.log(\"if ...\");\n          let watchList = JSON.parse(localStorage.getItem(\"items\"));\n          console.log(\"^^Before Delete watchList:\", watchList);\n          watchList.splice(delIndex, 1);\n          localStorage.setItem(\"items\", JSON.stringify(watchList));\n          console.log(\"^^After Delete watchList:\", watchList);\n        }\n      }\n    }\n  }\n\n  onload() {\n    console.log(\"**localStorage.getItem(\\\"balance\\\")\", localStorage.getItem(\"balance\"));\n\n    if (localStorage.getItem(\"balance\") == null) {\n      localStorage.setItem(\"balance\", \"25000\");\n      console.log(\"**localStorage.getItem(\\\"balance\\\")\", localStorage.getItem(\"balance\"));\n    }\n\n    this.watchLocalStorage = localStorage.getItem(\"items\");\n    let jsonLocalStore = JSON.parse(localStorage.getItem(\"items\"));\n    console.log(\"** 1) watchLocalStorage\", this.watchLocalStorage);\n    console.log(\"** 1) jsonLocalStore\", jsonLocalStore);\n\n    if (localStorage.getItem(\"items\") == null || this.watchLocalStorage == '[]' || this.watchLocalStorage == \"['']\") {\n      this.warndisplayflag = false;\n    } else {\n      console.log(\"1) watchLocalStorage\", typeof this.watchLocalStorage);\n      this.watchLocalStorage = this.watchLocalStorage.replace(']', '');\n      this.watchLocalStorage = this.watchLocalStorage.replace('[', '');\n      this.watchLocalStorage = this.watchLocalStorage.replace(\"'\", \"\");\n      let storedItemsList = this.watchLocalStorage.split(\",\");\n      storedItemsList.pop();\n      console.log(\"**storedItemsList:\", storedItemsList);\n      console.log(\"--------------------\");\n\n      for (let i = 0; i < storedItemsList.length; i += 1) {\n        storedItemsList[i] = storedItemsList[i].replace('\\\"', ''); //change later\n\n        console.log(\"**storedItemsList:\", storedItemsList[i]);\n        let str_tmp_list = storedItemsList[i].split(\"|\");\n        console.log(\"**str_tmp_list:\", str_tmp_list);\n\n        for (let j = 0; j < str_tmp_list.length; j += 5) {\n          let color;\n          console.log(\"1)**j:\", j);\n          console.log(\"1)item:\", str_tmp_list[j]); //dp\n\n          if (str_tmp_list[j + 4] < 0) {\n            color = \"red\";\n            this.arrowflag = true;\n          } else {\n            color = \"green\";\n            this.arrowflag = false;\n          }\n\n          this.json_display.push({\n            ticker: str_tmp_list[j],\n            name: str_tmp_list[j + 1],\n            c: str_tmp_list[j + 2],\n            d: str_tmp_list[j + 3],\n            dp: str_tmp_list[j + 4],\n            color: color\n          });\n        }\n\n        this.warndisplayflag = true;\n        console.log(\"@@this.warndisplayflag:\", this.warndisplayflag);\n        console.log(\"this.json_display:\", this.json_display);\n        console.log(\"--------------------\");\n      }\n\n      console.log(\"this.json_display:\", this.json_display);\n    }\n  }\n\n  ngOnInit() {\n    this.onload();\n  }\n\n};\nWatchListSectionComponent = __decorate([Component({\n  selector: 'app-watch-list-section',\n  templateUrl: './watch-list-section.component.html',\n  styleUrls: ['./watch-list-section.component.css']\n})], WatchListSectionComponent);\nexport { WatchListSectionComponent };","map":null,"metadata":{},"sourceType":"module"}