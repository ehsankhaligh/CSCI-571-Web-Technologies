{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet WatchListSectionComponent = class WatchListSectionComponent {\n  constructor(router, backendServiceReq) {\n    this.router = router;\n    this.backendServiceReq = backendServiceReq;\n    this.json_display = [];\n    this.stockPrice = []; //populate from json\n  }\n\n  onclickArea(ticker) {\n    let trimed_ticker = ticker.replace(' ', ''); //remove space\n\n    this.router.navigateByUrl('/details/' + trimed_ticker);\n  }\n\n  deleteItem(displayTicker) {\n    if (localStorage.getItem(\"items\") != null) {\n      console.log(\"~after if\");\n      let storedItems = localStorage.getItem(\"items\");\n      storedItems = storedItems.replace('\"', '');\n      storedItems = storedItems.replace(']', '');\n      storedItems = storedItems.replace('[', '');\n      let storedItemsList = storedItems.split(\",\");\n      console.log(\"~storedItems:\", storedItems);\n      console.log(\"~storedItemsList:\", storedItemsList);\n\n      for (let i = 0; i < storedItemsList.length; i += 1) {\n        let str_tmp = storedItemsList[i];\n        console.log(\"~str_tmp:\", str_tmp);\n\n        if (str_tmp.includes(displayTicker) == true) {\n          let delIndex = i;\n          console.log(\"if ...\");\n          let watchList = JSON.parse(localStorage.getItem(\"items\"));\n          console.log(\"^^Before Delete watchList:\", watchList);\n          console.log(\"^^Before Delete delIndex:\", delIndex);\n          storedItemsList.pop();\n          console.log(\"^^Before Delete storedItemsList:\", storedItemsList);\n          storedItemsList.splice(delIndex, 1);\n          console.log(\"^^After Delete delIndex:\", storedItemsList);\n          localStorage.setItem(\"items\", JSON.stringify(storedItemsList));\n          console.log(\"^^After Delete watchList:\", watchList); //window.location.reload();\n        }\n      }\n    }\n  }\n\n  onload() {\n    console.log(\"**localStorage.getItem(\\\"balance\\\")\", localStorage.getItem(\"balance\"));\n\n    if (localStorage.getItem(\"balance\") == null) {\n      localStorage.setItem(\"balance\", \"25000\");\n      console.log(\"**localStorage.getItem(\\\"balance\\\")\", localStorage.getItem(\"balance\"));\n    }\n\n    this.watchLocalStorage = localStorage.getItem(\"items\");\n    let jsonLocalStore = JSON.parse(localStorage.getItem(\"items\"));\n    console.log(\"## 1) jsonLocalStore\", jsonLocalStore); //here\n\n    if (localStorage.getItem(\"items\") == null || this.watchLocalStorage == '[]') {\n      this.warndisplayflag = false;\n    } else {\n      for (var i = 0; i < Object.keys(jsonLocalStore).length; i++) {\n        let key_list = Object.keys(jsonLocalStore);\n        console.log(key_list[i]);\n        console.log(Object.values(jsonLocalStore)[i]);\n        console.log(Object.values(jsonLocalStore)[i][\"name\"]);\n        console.log(Object.values(jsonLocalStore)[i][\"c\"]);\n        console.log(Object.values(jsonLocalStore)[i][\"d\"]);\n        console.log(Object.values(jsonLocalStore)[i][\"dp\"]);\n        let my_ticker = key_list[i];\n        let my_d = Object.values(jsonLocalStore)[i][\"d\"];\n        let my_dp = Object.values(jsonLocalStore)[i][\"dp\"];\n        let my_name = Object.values(jsonLocalStore)[i][\"name\"];\n        let my_c = Object.values(jsonLocalStore)[i][\"c\"]; //dp color\n\n        let color;\n\n        if (my_dp < 0) {\n          color = \"red\";\n          this.arrowflag = 0;\n        } else if (my_dp > 0) {\n          color = \"green\";\n          this.arrowflag = 1;\n        } else {\n          color = \"black\";\n          this.arrowflag = 2;\n        }\n\n        this.json_display.push({\n          ticker: my_ticker,\n          name: my_name,\n          c: my_c,\n          d: my_d,\n          dp: my_dp,\n          color: color\n        });\n      }\n\n      this.warndisplayflag = true;\n    }\n  }\n\n  ngOnInit() {\n    this.onload();\n  }\n\n};\nWatchListSectionComponent = __decorate([Component({\n  selector: 'app-watch-list-section',\n  templateUrl: './watch-list-section.component.html',\n  styleUrls: ['./watch-list-section.component.css']\n})], WatchListSectionComponent);\nexport { WatchListSectionComponent };","map":null,"metadata":{},"sourceType":"module"}