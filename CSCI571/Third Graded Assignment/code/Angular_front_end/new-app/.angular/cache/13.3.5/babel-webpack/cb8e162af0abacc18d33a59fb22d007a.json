{"ast":null,"code":"/*\n Highstock JS v10.0.0 (2022-03-07)\n\n Drag-panes module\n\n (c) 2010-2021 Highsoft AS\n Author: Kacper Madej\n\n License: www.highcharts.com/license\n*/\n(function (a) {\n  \"object\" === typeof module && module.exports ? (a[\"default\"] = a, module.exports = a) : \"function\" === typeof define && define.amd ? define(\"highcharts/modules/drag-panes\", [\"highcharts\", \"highcharts/modules/stock\"], function (e) {\n    a(e);\n    a.Highcharts = e;\n    return a;\n  }) : a(\"undefined\" !== typeof Highcharts ? Highcharts : void 0);\n})(function (a) {\n  function e(a, f, e, n) {\n    a.hasOwnProperty(f) || (a[f] = n.apply(null, e), \"function\" === typeof CustomEvent && window.dispatchEvent(new CustomEvent(\"HighchartsModuleLoaded\", {\n      detail: {\n        path: f,\n        module: a[f]\n      }\n    })));\n  }\n\n  a = a ? a._modules : {};\n  e(a, \"Extensions/DragPanes.js\", [a[\"Core/Globals.js\"], a[\"Core/Axis/Axis.js\"], a[\"Core/Axis/AxisDefaults.js\"], a[\"Core/Pointer.js\"], a[\"Core/Utilities.js\"]], function (a, f, e, n, b) {\n    var x = a.hasTouch,\n        h = b.addEvent,\n        t = b.clamp,\n        y = b.isNumber,\n        z = b.merge,\n        A = b.objectEach,\n        v = b.relativeLength;\n    b = b.wrap;\n\n    var u = function () {\n      function a(c) {\n        this.options = this.lastPos = this.controlLine = this.axis = void 0;\n        this.init(c);\n      }\n\n      a.prototype.init = function (c, a) {\n        this.axis = c;\n        this.options = c.options.resize;\n        this.render();\n        a || this.addMouseEvents();\n      };\n\n      a.prototype.render = function () {\n        var c = this.axis,\n            a = c.chart,\n            d = this.options,\n            w = d.x || 0,\n            b = d.y,\n            l = t(c.top + c.height + b, a.plotTop, a.plotTop + a.plotHeight),\n            m = {};\n        a.styledMode || (m = {\n          cursor: d.cursor,\n          stroke: d.lineColor,\n          \"stroke-width\": d.lineWidth,\n          dashstyle: d.lineDashStyle\n        });\n        this.lastPos = l - b;\n        this.controlLine || (this.controlLine = a.renderer.path().addClass(\"highcharts-axis-resizer\"));\n        this.controlLine.add(c.axisGroup);\n        d = a.styledMode ? this.controlLine.strokeWidth() : d.lineWidth;\n        m.d = a.renderer.crispLine([[\"M\", c.left + w, l], [\"L\", c.left + c.width + w, l]], d);\n        this.controlLine.attr(m);\n      };\n\n      a.prototype.addMouseEvents = function () {\n        var c = this,\n            a = c.controlLine.element,\n            d = c.axis.chart.container,\n            b = [],\n            e,\n            l,\n            m;\n\n        c.mouseMoveHandler = e = function (a) {\n          c.onMouseMove(a);\n        };\n\n        c.mouseUpHandler = l = function (a) {\n          c.onMouseUp(a);\n        };\n\n        c.mouseDownHandler = m = function (a) {\n          c.onMouseDown(a);\n        };\n\n        b.push(h(d, \"mousemove\", e), h(d.ownerDocument, \"mouseup\", l), h(a, \"mousedown\", m));\n        x && b.push(h(d, \"touchmove\", e), h(d.ownerDocument, \"touchend\", l), h(a, \"touchstart\", m));\n        c.eventsToUnbind = b;\n      };\n\n      a.prototype.onMouseMove = function (a) {\n        a.touches && 0 === a.touches[0].pageX || !this.grabbed || (this.hasDragged = !0, this.updateAxes(this.axis.chart.pointer.normalize(a).chartY - this.options.y));\n      };\n\n      a.prototype.onMouseUp = function (a) {\n        this.hasDragged && this.updateAxes(this.axis.chart.pointer.normalize(a).chartY - this.options.y);\n        this.grabbed = this.hasDragged = this.axis.chart.activeResizer = null;\n      };\n\n      a.prototype.onMouseDown = function (a) {\n        this.axis.chart.pointer.reset(!1, 0);\n        this.grabbed = this.axis.chart.activeResizer = !0;\n      };\n\n      a.prototype.updateAxes = function (a) {\n        var c = this,\n            d = c.axis.chart,\n            b = c.options.controlledAxis,\n            e = 0 === b.next.length ? [d.yAxis.indexOf(c.axis) + 1] : b.next;\n        b = [c.axis].concat(b.prev);\n        var l = [],\n            m = !1,\n            q = d.plotTop,\n            f = d.plotHeight,\n            h = q + f;\n        a = t(a, q, h);\n        var r = a - c.lastPos;\n        1 > r * r || ([b, e].forEach(function (b, e) {\n          b.forEach(function (b, k) {\n            var g = (b = y(b) ? d.yAxis[b] : e || k ? d.get(b) : b) && b.options;\n\n            if (g && \"navigator-y-axis\" !== g.id) {\n              k = b.top;\n              var n = Math.round(v(g.minLength, f));\n              var p = Math.round(v(g.maxLength, f));\n              e ? (r = a - c.lastPos, g = Math.round(t(b.len - r, n, p)), k = b.top + r, k + g > h && (p = h - g - k, a += p, k += p), k < q && (k = q, k + g > h && (g = f)), g === n && (m = !0), l.push({\n                axis: b,\n                options: {\n                  top: 100 * (k - q) / f + \"%\",\n                  height: 100 * g / f + \"%\"\n                }\n              })) : (g = Math.round(t(a - k, n, p)), g === p && (m = !0), a = k + g, l.push({\n                axis: b,\n                options: {\n                  height: 100 * g / f + \"%\"\n                }\n              }));\n            }\n          });\n        }), m || (l.forEach(function (a) {\n          a.axis.update(a.options, !1);\n        }), d.redraw(!1)));\n      };\n\n      a.prototype.destroy = function () {\n        var a = this;\n        delete a.axis.resizer;\n        this.eventsToUnbind && this.eventsToUnbind.forEach(function (a) {\n          a();\n        });\n        a.controlLine.destroy();\n        A(a, function (b, c) {\n          a[c] = null;\n        });\n      };\n\n      a.resizerOptions = {\n        minLength: \"10%\",\n        maxLength: \"100%\",\n        resize: {\n          controlledAxis: {\n            next: [],\n            prev: []\n          },\n          enabled: !1,\n          cursor: \"ns-resize\",\n          lineColor: \"#cccccc\",\n          lineDashStyle: \"Solid\",\n          lineWidth: 4,\n          x: 0,\n          y: 0\n        }\n      };\n      return a;\n    }();\n\n    f.keepProps.push(\"resizer\");\n    h(f, \"afterRender\", function () {\n      var a = this.resizer,\n          b = this.options.resize;\n      b && (b = !1 !== b.enabled, a ? b ? a.init(this, !0) : a.destroy() : b && (this.resizer = new u(this)));\n    });\n    h(f, \"destroy\", function (a) {\n      !a.keepEvents && this.resizer && this.resizer.destroy();\n    });\n    b(n.prototype, \"runPointActions\", function (a) {\n      this.chart.activeResizer || a.apply(this, Array.prototype.slice.call(arguments, 1));\n    });\n    b(n.prototype, \"drag\", function (a) {\n      this.chart.activeResizer || a.apply(this, Array.prototype.slice.call(arguments, 1));\n    });\n    z(!0, e.defaultYAxisOptions, u.resizerOptions);\n    a.AxisResizer = u;\n    return a.AxisResizer;\n  });\n  e(a, \"masters/modules/drag-panes.src.js\", [], function () {});\n}); //# sourceMappingURL=drag-panes.js.map","map":null,"metadata":{},"sourceType":"script"}